{
  "createdAt": "2025-04-30T19:28:37.030Z",
  "updatedAt": "2025-04-30T21:17:31.000Z",
  "id": "TFfJmuxIz05FLRfz",
  "name": "credentials backup",
  "active": false,
  "nodes": [
    {
      "parameters": {
        "triggerTimes": {
          "item": [
            {
              "hour": 0
            }
          ]
        }
      },
      "name": "Cron1",
      "type": "n8n-nodes-base.cron",
      "position": [
        -240,
        100
      ],
      "typeVersion": 1,
      "id": "78f2a6e9-6934-4212-b5ea-8139cd8d3f73"
    },
    {
      "parameters": {
        "command": "REPO_URL=\"https://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@github.com/AdminRHS/n8n-credentials-backup.git\"\nTARGET=\"repo\"\n\nif [ -d \"$TARGET/.git\" ]; then\n  cd \"$TARGET\" && git pull\nelse\n  git clone --depth=1 \"$REPO_URL\" \"$TARGET\"\nfi\n\n# export workflows and credentials into the same folder structure\nnpx n8n export:workflow --backup --output \"$TARGET/workflows/\"\nnpx n8n export:credentials --backup --output \"$TARGET/credentials/\"\n\n# rename credential files\ncd \"$TARGET/credentials\"\nfor f in *.json; do\n  name=$(jq -r .name \"$f\" | tr ' ' '_' | tr -cd '[:alnum:]_')\n  mv \"$f\" \"$name.json\"\ndone\n\n# rename workflows into folders\ncd ../workflows\nfor f in *.json; do\n  name=$(jq -r .name \"$f\" | tr ' ' '_' | tr -cd '[:alnum:]_')\n  mkdir -p \"$name\" && mv \"$f\" \"$name/${name}.json\"\ndone\n\n# commit & push only if there are changes\ncd ..\ngit add .\nif ! git diff --cached --quiet; then\n  git commit -m \"Auto backup $(date -u +\"%Y-%m-%dT%H:%M:%SZ\")\"\n  git push\nfi\n"
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        -80,
        100
      ],
      "id": "edd26fe7-93d4-4b12-b89e-698e8c776ed9",
      "name": "git config"
    }
  ],
  "connections": {
    "Cron1": {
      "main": [
        [
          {
            "node": "git config",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "git config": {
      "main": [
        []
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "95cc1958-315e-488a-a067-353c87df33b3",
  "triggerCount": 0,
  "tags": []
}